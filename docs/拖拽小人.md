# SakanaWidget 拖拽小人组件使用文档

## 基本使用

在任何地方使用SakanaWidget，只需要添加以下HTML：

```html
<!-- 基本使用 - 默认居中显示 -->
<div data-sakana></div>
```

## 布局参数

所有参数都通过 `data-*` 属性直接设置在同一个标签内，无需额外配置：

### 对齐方式
```html
<!-- 居中对齐 (默认) -->
<div data-sakana data-align="center"></div>

<!-- 左对齐 -->
<div data-sakana data-align="left"></div>

<!-- 右对齐 -->
<div data-sakana data-align="right"></div>
```

### 尺寸控制
```html
<!-- 固定大小 -->
<div data-sakana data-size="300" data-width="300px" data-height="300px"></div>

<!-- 自适应宽度 -->
<div data-sakana data-width="100%" data-height="auto"></div>

<!-- 自定义边距 -->
<div data-sakana data-margin="1rem auto" data-width="250px"></div>
```

### 显示方式
```html
<!-- 弹性布局 (默认) -->
<div data-sakana data-display="flex"></div>

<!-- 块级元素 -->
<div data-sakana data-display="block"></div>

<!-- 行内块 -->
<div data-sakana data-display="inline-block"></div>
```

## 完整参数列表

| 参数 | 类型 | 默认值 | 说明 |
|---|---|---|---|
| `data-size` | number | 200 | 组件大小（像素） |
| `data-character` | string | "chisato" | 角色选择："chisato" 或 "takina" |
| `data-controls` | boolean | true | 是否显示控制栏 |
| `data-draggable` | boolean | true | 是否可拖拽 |
| `data-auto-fit` | boolean | false | 是否自动适应容器大小 |
| `data-rod` | boolean | true | 是否显示钓鱼竿 |
| `data-align` | string | "center" | 对齐方式："left", "center", "right" |
| `data-margin` | string | "2rem 0" | 外边距设置 |
| `data-display` | string | "flex" | 显示方式："flex", "block", "inline-block" |
| `data-width` | string | "auto" | 容器宽度 |
| `data-height` | string | "auto" | 容器高度 |

## 使用示例

### 示例1：博客文章中的居中展示
```html
<div data-sakana 
     data-size="250" 
     data-character="chisato" 
     data-align="center" 
     data-margin="2rem auto">
</div>
```

### 示例2：侧边栏的小组件
```html
<div data-sakana 
     data-size="150" 
     data-character="takina" 
     data-align="left" 
     data-margin="1rem 0">
</div>
```

### 示例3：全屏展示
```html
<div data-sakana 
     data-size="400" 
     data-width="100%" 
     data-height="400px" 
     data-align="center" 
     data-margin="0">
</div>
```

### 示例4：禁用控制栏的简洁版本
```html
<div data-sakana 
     data-size="180" 
     data-controls="false" 
     data-align="right" 
     data-margin="1rem">
</div>
```

## JavaScript 高级用法

### 动态创建组件
```javascript
// 创建新组件
const container = document.createElement('div');
container.setAttribute('data-sakana', '');
container.setAttribute('data-size', '300');
container.setAttribute('data-align', 'center');
document.body.appendChild(container);

// 触发初始化
window.initSakanaWidgets?.();
```

### 获取所有实例
```javascript
// 获取已初始化的组件容器
const containers = document.querySelectorAll('[data-initialized="true"]');
```

## 注意事项

1. 所有参数都通过 `data-*` 属性设置，无需额外配置
2. 组件会自动初始化，无需手动调用
3. 支持响应式布局，可通过 `data-width="100%"` 实现
4. 页面切换时会自动重新初始化
5. 同一页面可以放置多个不同配置的组件

## 故障排除

如果组件没有显示：
1. 检查是否正确添加了 `data-sakana` 属性
2. 确认页面已完全加载
3. 检查浏览器控制台是否有错误信息
4. 确保容器有足够的空间显示组件

- `data-image`: 自定义图片URL，可选，设置后会替换默认角色图片

### 自定义图片使用
支持使用自定义图片作为角色：

```html
<div data-sakana 
     data-size="250" 
     data-image="https://example.com/your-image.png">
</div>
```

### 🖼️ 自定义图片演示

下面是一个使用自定义图片的示例：

<div data-sakana 
     data-size="200" 
     data-image="https://picsum.photos/200/200?random=1"
     data-controls="true"
     data-draggable="true">
</div>

### 📱 响应式自定义图片

这个示例展示了如何在小尺寸容器中自适应显示自定义图片：

<div style="max-width: 150px; margin: 0 auto;">
  <div data-sakana 
       data-size="150" 
       data-image="https://picsum.photos/150/150?random=2"
       data-controls="false"
       data-draggable="true">
  </div>
</div>

**自定义图片特性：**
- 图片会自动适配组件大小
- 支持自适应调整，响应容器尺寸变化
- 保持图片原始比例，避免变形
- 支持任意图片格式（PNG、JPG、GIF等）

### 响应式示例

```html
<!-- 响应式容器 -->
<div style="max-width: 300px; width: 100%;">
  <div data-sakana 
       data-size="100%" 
       data-image="https://example.com/responsive-image.png"
       data-auto-fit="true">
  </div>
</div>
```

### JavaScript调用
你也可以通过JavaScript动态创建：

```javascript
// 确保window.SakanaWidget已加载
if (window.SakanaWidget) {
  // 使用自定义图片
  const customCharacter = SakanaWidget.getCharacter('chisato');
  customCharacter.image = 'https://example.com/your-image.png';
  
  SakanaWidget.registerCharacter('my-custom', customCharacter);
  
  new window.SakanaWidget({
    size: 250,
    character: 'my-custom',
    controls: true,
    draggable: true
  }).mount('#your-container');
}
```